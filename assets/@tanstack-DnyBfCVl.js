import{i as W}from"./tiny-invariant-CopsF_GD.js";import{w as Vt}from"./tiny-warning-Dirz_SfZ.js";import{r as R,j as b}from"./react-BWH9k979.js";import{r as be}from"./react-dom-BIt8mBlf.js";import{w as we}from"./use-sync-external-store-y5_7iTFR.js";const ut="__TSR_index",re="popstate",se="beforeunload";function he(e){let o=e.getLocation();const t=new Set,n=i=>{o=e.getLocation(),t.forEach(a=>a({location:o,action:i}))},r=i=>{e.notifyOnIndexChange??!0?n(i):o=e.getLocation()},s=async({task:i,navigateOpts:a,...c})=>{var u,d;if((a==null?void 0:a.ignoreBlocker)??!1){i();return}const h=((u=e.getBlockers)==null?void 0:u.call(e))??[],p=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&h.length&&p)for(const f of h){const y=Rt(c.path,c.state);if(await f.blockerFn({currentLocation:o,nextLocation:y,action:c.type})){(d=e.onBlocked)==null||d.call(e);return}}i()};return{get location(){return o},get length(){return e.getLength()},subscribers:t,subscribe:i=>(t.add(i),()=>{t.delete(i)}),push:(i,a,c)=>{const u=o.state[ut];a=Xt(u+1,a),s({task:()=>{e.pushState(i,a),n({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:i,state:a})},replace:(i,a,c)=>{const u=o.state[ut];a=Xt(u,a),s({task:()=>{e.replaceState(i,a),n({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:i,state:a})},go:(i,a)=>{s({task:()=>{e.go(i),r({type:"GO",index:i})},navigateOpts:a,type:"GO"})},back:i=>{s({task:()=>{e.back((i==null?void 0:i.ignoreBlocker)??!1),r({type:"BACK"})},navigateOpts:i,type:"BACK"})},forward:i=>{s({task:()=>{e.forward((i==null?void 0:i.ignoreBlocker)??!1),r({type:"FORWARD"})},navigateOpts:i,type:"FORWARD"})},canGoBack:()=>o.state[ut]!==0,createHref:i=>e.createHref(i),block:i=>{var a;if(!e.setBlockers)return()=>{};const c=((a=e.getBlockers)==null?void 0:a.call(e))??[];return e.setBlockers([...c,i]),()=>{var u,d;const l=((u=e.getBlockers)==null?void 0:u.call(e))??[];(d=e.setBlockers)==null||d.call(e,l.filter(h=>h!==i))}},flush:()=>{var i;return(i=e.flush)==null?void 0:i.call(e)},destroy:()=>{var i;return(i=e.destroy)==null?void 0:i.call(e)},notify:n}}function Xt(e,o){return o||(o={}),{...o,key:xe(),[ut]:e}}function Ce(e){const o=typeof document<"u"?window:void 0,t=o.history.pushState,n=o.history.replaceState;let r=[];const s=()=>r,i=_=>r=_,a=_=>_,c=()=>Rt(`${o.location.pathname}${o.location.search}${o.location.hash}`,o.history.state);let u=c(),d,l=!1,h=!1,p=!1,f=!1;const y=()=>u;let v,x;const C=()=>{v&&(F._ignoreSubscribers=!0,(v.isPush?o.history.pushState:o.history.replaceState)(v.state,"",v.href),F._ignoreSubscribers=!1,v=void 0,x=void 0,d=void 0)},L=(_,S,E)=>{const m=a(S);x||(d=u),u=Rt(S,E),v={href:m,state:E,isPush:(v==null?void 0:v.isPush)||_==="push"},x||(x=Promise.resolve().then(()=>C()))},w=_=>{u=c(),F.notify({type:_})},g=async()=>{if(h){h=!1;return}const _=c(),S=_.state[ut]-u.state[ut],E=S===1,m=S===-1,P=!E&&!m||l;l=!1;const I=P?"GO":m?"BACK":"FORWARD",T=P?{type:"GO",index:S}:{type:m?"BACK":"FORWARD"};if(p)p=!1;else{const k=s();if(typeof document<"u"&&k.length){for(const O of k)if(await O.blockerFn({currentLocation:u,nextLocation:_,action:I})){h=!0,o.history.go(1),F.notify(T);return}}}u=c(),F.notify(T)},M=_=>{if(f){f=!1;return}let S=!1;const E=s();if(typeof document<"u"&&E.length)for(const m of E){const P=m.enableBeforeUnload??!0;if(P===!0){S=!0;break}if(typeof P=="function"&&P()===!0){S=!0;break}}if(S)return _.preventDefault(),_.returnValue=""},F=he({getLocation:y,getLength:()=>o.history.length,pushState:(_,S)=>L("push",_,S),replaceState:(_,S)=>L("replace",_,S),back:_=>(_&&(p=!0),f=!0,o.history.back()),forward:_=>{_&&(p=!0),f=!0,o.history.forward()},go:_=>{l=!0,o.history.go(_)},createHref:_=>a(_),flush:C,destroy:()=>{o.history.pushState=t,o.history.replaceState=n,o.removeEventListener(se,M,{capture:!0}),o.removeEventListener(re,g)},onBlocked:()=>{d&&u!==d&&(u=d)},getBlockers:s,setBlockers:i,notifyOnIndexChange:!1});return o.addEventListener(se,M,{capture:!0}),o.addEventListener(re,g),o.history.pushState=function(..._){const S=t.apply(o.history,_);return F._ignoreSubscribers||w("PUSH"),S},o.history.replaceState=function(..._){const S=n.apply(o.history,_);return F._ignoreSubscribers||w("REPLACE"),S},F}function Re(e={initialEntries:["/"]}){const o=e.initialEntries;let t=e.initialIndex?Math.min(Math.max(e.initialIndex,0),o.length-1):o.length-1;const n=o.map((s,i)=>Xt(i,void 0));return he({getLocation:()=>Rt(o[t],n[t]),getLength:()=>o.length,pushState:(s,i)=>{t<o.length-1&&(o.splice(t+1),n.splice(t+1)),n.push(i),o.push(s),t=Math.max(o.length-1,0)},replaceState:(s,i)=>{n[t]=i,o[t]=s},back:()=>{t=Math.max(t-1,0)},forward:()=>{t=Math.min(t+1,o.length-1)},go:s=>{t=Math.min(Math.max(t+s,0),o.length-1)},createHref:s=>s})}function Rt(e,o){const t=e.indexOf("#"),n=e.indexOf("?");return{href:e,pathname:e.substring(0,t>0?n>0?Math.min(t,n):t:n>0?n:e.length),hash:t>-1?e.substring(t):"",search:n>-1?e.slice(n,t===-1?void 0:t):"",state:o||{[ut]:0}}}function xe(){return(Math.random()+1).toString(36).substring(7)}const Ut=R.createContext(null);function fe(){return typeof document>"u"?Ut:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Ut,Ut)}function st(e){const o=R.useContext(fe());return Vt(!(((e==null?void 0:e.warn)??!0)&&!o)),o}const mt=new WeakMap,Ft=new WeakMap,Ot={current:[]};let Ht=!1,wt=0;const St=new Set,Lt=new Map;function pe(e){const o=Array.from(e).sort((t,n)=>t instanceof vt&&t.options.deps.includes(n)?1:n instanceof vt&&n.options.deps.includes(t)?-1:0);for(const t of o){if(Ot.current.includes(t))continue;Ot.current.push(t),t.recompute();const n=Ft.get(t);if(n)for(const r of n){const s=mt.get(r);s&&pe(s)}}}function Le(e){e.listeners.forEach(o=>o({prevVal:e.prevState,currentVal:e.state}))}function Me(e){e.listeners.forEach(o=>o({prevVal:e.prevState,currentVal:e.state}))}function me(e){if(wt>0&&!Lt.has(e)&&Lt.set(e,e.prevState),St.add(e),!(wt>0)&&!Ht)try{for(Ht=!0;St.size>0;){const o=Array.from(St);St.clear();for(const t of o){const n=Lt.get(t)??t.prevState;t.prevState=n,Le(t)}for(const t of o){const n=mt.get(t);n&&(Ot.current.push(t),pe(n))}for(const t of o){const n=mt.get(t);if(n)for(const r of n)Me(r)}}}finally{Ht=!1,Ot.current=[],Lt.clear()}}function Wt(e){wt++;try{e()}finally{if(wt--,wt===0){const o=Array.from(St)[0];o&&me(o)}}}class Qt{constructor(o,t){this.listeners=new Set,this.subscribe=n=>{var r,s;this.listeners.add(n);const i=(s=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:s.call(r,n,this);return()=>{this.listeners.delete(n),i==null||i()}},this.setState=n=>{var r,s,i;this.prevState=this.state,this.state=(r=this.options)!=null&&r.updateFn?this.options.updateFn(this.prevState)(n):n(this.prevState),(i=(s=this.options)==null?void 0:s.onUpdate)==null||i.call(s),me(this)},this.prevState=o,this.state=o,this.options=t}}class vt{constructor(o){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],n=[];for(const r of this.options.deps)t.push(r.prevState),n.push(r.state);return this.lastSeenDepValues=n,{prevDepVals:t,currDepVals:n,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,n;this.prevState=this.state;const{prevDepVals:r,currDepVals:s,prevVal:i}=this.getDepVals();this.state=this.options.fn({prevDepVals:r,currDepVals:s,prevVal:i}),(n=(t=this.options).onUpdate)==null||n.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof vt&&s.checkIfRecalculationNeededDeeply();let t=!1;const n=this.lastSeenDepValues,{currDepVals:r}=this.getDepVals();for(let s=0;s<r.length;s++)if(r[s]!==n[s]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var n,r;this.listeners.add(t);const s=(r=(n=this.options).onSubscribe)==null?void 0:r.call(n,t,this);return()=>{this.listeners.delete(t),s==null||s()}},this.options=o,this.state=o.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(o=this.options.deps){for(const t of o)if(t instanceof vt)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof Qt){let n=mt.get(t);n||(n=new Set,mt.set(t,n)),n.add(this);let r=Ft.get(this);r||(r=new Set,Ft.set(this,r)),r.add(t)}}unregisterFromGraph(o=this.options.deps){for(const t of o)if(t instanceof vt)this.unregisterFromGraph(t.options.deps);else if(t instanceof Qt){const n=mt.get(t);n&&n.delete(this);const r=Ft.get(this);r&&r.delete(t)}}}function Ee(e,o=t=>t){return we.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,o,Ie)}function Ie(e,o){if(Object.is(e,o))return!0;if(typeof e!="object"||e===null||typeof o!="object"||o===null)return!1;if(e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(const[n,r]of e)if(!o.has(n)||!Object.is(r,o.get(n)))return!1;return!0}if(e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(const n of e)if(!o.has(n))return!1;return!0}const t=Object.keys(e);if(t.length!==Object.keys(o).length)return!1;for(let n=0;n<t.length;n++)if(!Object.prototype.hasOwnProperty.call(o,t[n])||!Object.is(e[t[n]],o[t[n]]))return!1;return!0}const H="__root__";function ke(e,o){let t,n,r,s="";for(t in e)if((r=e[t])!==void 0)if(Array.isArray(r))for(n=0;n<r.length;n++)s&&(s+="&"),s+=encodeURIComponent(t)+"="+encodeURIComponent(r[n]);else s&&(s+="&"),s+=encodeURIComponent(t)+"="+encodeURIComponent(r);return""+s}function ie(e){if(!e)return"";const o=decodeURIComponent(e);return o==="false"?!1:o==="true"?!0:+o*0===0&&+o+""===o?+o:o}function Fe(e,o){let t,n;const r={},s=e.split("&");for(;t=s.shift();){const i=t.indexOf("=");if(i!==-1){n=t.slice(0,i),n=decodeURIComponent(n);const a=t.slice(i+1);r[n]!==void 0?r[n]=[].concat(r[n],ie(a)):r[n]=ie(a)}else n=t,n=decodeURIComponent(n),r[n]=""}return r}const Te=Oe(JSON.parse),De=Be(JSON.stringify,JSON.parse);function Oe(e){return o=>{o.substring(0,1)==="?"&&(o=o.substring(1));const t=Fe(o);for(const n in t){const r=t[n];if(typeof r=="string")try{t[n]=e(r)}catch{}}return t}}function Be(e,o){function t(n){if(typeof n=="object"&&n!==null)try{return e(n)}catch{}else if(typeof n=="string"&&typeof o=="function")try{return o(n),e(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(s=>{const i=n[s];typeof i>"u"||i===void 0?delete n[s]:n[s]=t(i)});const r=ke(n).toString();return r?`?${r}`:""}}function Ct(e){return e[e.length-1]}function je(e){return typeof e=="function"}function pt(e,o){return je(e)?e(o):e}function Tt(e,o){return o.reduce((t,n)=>(t[n]=e[n],t),{})}function J(e,o){if(e===o)return e;const t=o,n=ce(e)&&ce(t);if(n||rt(e)&&rt(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,c=n?[]:{};let u=0;for(let d=0;d<a;d++){const l=n?d:i[d];(!n&&r.includes(l)||n)&&e[l]===void 0&&t[l]===void 0?(c[l]=void 0,u++):(c[l]=J(e[l],t[l]),c[l]===e[l]&&e[l]!==void 0&&u++)}return s===a&&u===s?e:c}return t}function rt(e){if(!ae(e))return!1;const o=e.constructor;if(typeof o>"u")return!0;const t=o.prototype;return!(!ae(t)||!t.hasOwnProperty("isPrototypeOf"))}function ae(e){return Object.prototype.toString.call(e)==="[object Object]"}function ce(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function le(e,o){let t=Object.keys(e);return o&&(t=t.filter(n=>e[n]!==void 0)),t}function gt(e,o,t){if(e===o)return!0;if(typeof e!=typeof o)return!1;if(rt(e)&&rt(o)){const n=(t==null?void 0:t.ignoreUndefined)??!0,r=le(e,n),s=le(o,n);return!(t!=null&&t.partial)&&r.length!==s.length?!1:s.every(i=>gt(e[i],o[i],t))}return Array.isArray(e)&&Array.isArray(o)?e.length!==o.length?!1:!e.some((n,r)=>!gt(n,o[r],t)):!1}const Pt=typeof window<"u"?R.useLayoutEffect:R.useEffect;function ft(e){let o,t;const n=new Promise((r,s)=>{o=r,t=s});return n.status="pending",n.resolve=r=>{n.status="resolved",n.value=r,o(r),e==null||e(r)},n.reject=r=>{n.status="rejected",t(r)},n}function Gt(e){const o=R.useRef({value:e,prev:null}),t=o.current.value;return e!==t&&(o.current={value:e,prev:t}),o.current.prev}function Ve(e,o,t={},n={}){const r=R.useRef(typeof IntersectionObserver=="function"),s=R.useRef(null);return R.useEffect(()=>{if(!(!e.current||!r.current||n.disabled))return s.current=new IntersectionObserver(([i])=>{o(i)},t),s.current.observe(e.current),()=>{var i;(i=s.current)==null||i.disconnect()}},[o,t,n.disabled,e]),s.current}function Ae(e){const o=R.useRef(null);return R.useEffect(()=>{e&&(typeof e=="function"?e(o.current):e.current=o.current)}),o}function nt(e){return At(e.filter(o=>o!==void 0).join("/"))}function At(e){return e.replace(/\/{2,}/g,"/")}function Zt(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function lt(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function Ne(e){return lt(Zt(e))}function Bt(e,o){return e.endsWith("/")&&e!=="/"&&e!==`${o}/`?e.slice(0,-1):e}function ze(e,o,t){return Bt(e,t)===Bt(o,t)}function $e({basepath:e,base:o,to:t,trailingSlash:n="never",caseSensitive:r}){var s,i;o=jt(e,o,r),t=jt(e,t,r);let a=yt(o);const c=yt(t);a.length>1&&((s=Ct(a))==null?void 0:s.value)==="/"&&a.pop(),c.forEach((d,l)=>{d.value==="/"?l?l===c.length-1&&a.push(d):a=[d]:d.value===".."?a.pop():d.value==="."||a.push(d)}),a.length>1&&(((i=Ct(a))==null?void 0:i.value)==="/"?n==="never"&&a.pop():n==="always"&&a.push({type:"pathname",value:"/"}));const u=nt([e,...a.map(d=>d.value)]);return At(u)}function yt(e){if(!e)return[];e=At(e);const o=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),o.push({type:"pathname",value:"/"})),!e)return o;const t=e.split("/").filter(Boolean);return o.push(...t.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),e.slice(-1)==="/"&&(e=e.substring(1),o.push({type:"pathname",value:"/"})),o}function Mt({path:e,params:o,leaveWildcards:t,leaveParams:n,decodeCharMap:r}){const s=yt(e),i={};for(const[a,c]of Object.entries(o)){const u=typeof c=="string";["*","_splat"].includes(a)?i[a]=u?encodeURI(c):c:i[a]=u?Ke(c,r):c}return nt(s.map(a=>{if(a.type==="wildcard"){const c=i._splat;return t?`${a.value}${c??""}`:c}if(a.type==="param"){if(n){const c=i[a.value];return`${a.value}${c??""}`}return i[a.value.substring(1)]??"undefined"}return a.value}))}function Ke(e,o){let t=encodeURIComponent(e);if(o)for(const[n,r]of o)t=t.replaceAll(n,r);return t}function Et(e,o,t){const n=Ue(e,o,t);if(!(t.to&&!n))return n??{}}function jt(e,o,t=!1){const n=t?e:e.toLowerCase(),r=t?o:o.toLowerCase();switch(!0){case n==="/":return o;case r===n:return"";case o.length<e.length:return o;case r[n.length]!=="/":return o;case r.startsWith(n):return o.slice(e.length);default:return o}}function Ue(e,o,t){if(e!=="/"&&!o.startsWith(e))return;o=jt(e,o,t.caseSensitive);const n=jt(e,`${t.to??"$"}`,t.caseSensitive),r=yt(o),s=yt(n);o.startsWith("/")||r.unshift({type:"pathname",value:"/"}),n.startsWith("/")||s.unshift({type:"pathname",value:"/"});const i={};return(()=>{for(let c=0;c<Math.max(r.length,s.length);c++){const u=r[c],d=s[c],l=c>=r.length-1,h=c>=s.length-1;if(d){if(d.type==="wildcard"){const p=decodeURI(nt(r.slice(c).map(f=>f.value)));return i["*"]=p,i._splat=p,!0}if(d.type==="pathname"){if(d.value==="/"&&!(u!=null&&u.value))return!0;if(u){if(t.caseSensitive){if(d.value!==u.value)return!1}else if(d.value.toLowerCase()!==u.value.toLowerCase())return!1}}if(!u)return!1;if(d.type==="param"){if(u.value==="/")return!1;u.value.charAt(0)!=="$"&&(i[d.value.substring(1)]=decodeURIComponent(u.value))}}if(!l&&h)return i["**"]=nt(r.slice(c+1).map(p=>p.value)),!!t.fuzzy&&(d==null?void 0:d.value)!=="/"}return!0})()?i:void 0}function ct(e){return!!(e!=null&&e.isRedirect)}function qt(e){return!!(e!=null&&e.isRedirect)&&e.href}function te(e){const o=e.errorComponent??Nt;return b.jsx(He,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:t,reset:n})=>t?R.createElement(o,{error:t,reset:n}):e.children})}class He extends R.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(o){return{resetKey:o.getResetKey()}}static getDerivedStateFromError(o){return{error:o}}reset(){this.setState({error:null})}componentDidUpdate(o,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(o,t){this.props.onCatch&&this.props.onCatch(o,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Nt({error:e}){const[o,t]=R.useState(!1);return b.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[b.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),b.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(n=>!n),children:o?"Hide Error":"Show Error"})]}),b.jsx("div",{style:{height:".25rem"}}),o?b.jsx("div",{children:b.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?b.jsx("code",{children:e.message}):null})}):null]})}function K(e){const o=st({warn:(e==null?void 0:e.router)===void 0}),t=(e==null?void 0:e.router)||o,n=R.useRef();return Ee(t.__store,r=>{if(e!=null&&e.select){if(e.structuralSharing??t.options.defaultStructuralSharing){const s=J(n.current,e.select(r));return n.current=s,s}return e.select(r)}return r})}function tt(e){return!!(e!=null&&e.isNotFound)}function We(e){const o=K({select:t=>`not-found-${t.location.pathname}-${t.status}`});return b.jsx(te,{getResetKey:()=>o,onCatch:(t,n)=>{var r;if(tt(t))(r=e.onCatch)==null||r.call(e,t,n);else throw t},errorComponent:({error:t})=>{var n;if(tt(t))return(n=e.fallback)==null?void 0:n.call(e,t);throw t},children:e.children})}function Ge(){return b.jsx("p",{children:"Not Found"})}const bt={stringify:e=>JSON.stringify(e,function(t,n){const r=this[t],s=kt.find(i=>i.stringifyCondition(r));return s?s.stringify(r):n}),parse:e=>JSON.parse(e,function(t,n){const r=this[t];if(rt(r)){const s=kt.find(i=>i.parseCondition(r));if(s)return s.parse(r)}return n}),encode:e=>{if(Array.isArray(e))return e.map(t=>bt.encode(t));if(rt(e))return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,bt.encode(n)]));const o=kt.find(t=>t.stringifyCondition(e));return o?o.stringify(e):e},decode:e=>{if(rt(e)){const o=kt.find(t=>t.parseCondition(e));if(o)return o.parse(e)}return Array.isArray(e)?e.map(o=>bt.decode(o)):rt(e)?Object.fromEntries(Object.entries(e).map(([o,t])=>[o,bt.decode(t)])):e}},It=(e,o,t=r=>r,n=r=>r)=>({key:e,stringifyCondition:o,stringify:r=>({[`$${e}`]:t(r)}),parseCondition:r=>Object.hasOwn(r,`$${e}`),parse:r=>n(r[`$${e}`])}),kt=[It("undefined",e=>e===void 0,()=>0,()=>{}),It("date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),It("error",e=>e instanceof Error,e=>({...e,message:e.message,stack:e.stack,cause:e.cause}),e=>Object.assign(new Error(e.message),e)),It("formData",e=>e instanceof FormData,e=>{const o={};return e.forEach((t,n)=>{o[n]=t}),o},e=>{const o=new FormData;return Object.entries(e).forEach(([t,n])=>{o.append(t,n)}),o})],ve=["component","errorComponent","pendingComponent","notFoundComponent"];function qe(e){var o;for(const t of ve)if((o=e.options[t])!=null&&o.preload)return!0;return!1}function Jt(e,o){if(e==null)return{};if("~standard"in e){const t=e["~standard"].validate(o);if(t instanceof Promise)throw new Yt("Async validation not supported");if(t.issues)throw new Yt(JSON.stringify(t.issues,void 0,2));return t.value}return"parse"in e?e.parse(o):typeof e=="function"?e(o):{}}function wn(e){return new Je(e)}class Je{constructor(o){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=t=>t(),this.update=t=>{var n;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options;this.options={...this.options,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||t.basepath&&t.basepath!==r.basepath)&&(t.basepath===void 0||t.basepath===""||t.basepath==="/"?this.basepath="/":this.basepath=`/${Ne(t.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?Re({initialEntries:[this.basepath||"/"]}):Ce()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Qt(Qe(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const t=this.options.notFoundRoute;t&&(t.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[t.id]=t);const n=i=>{i.forEach((a,c)=>{a.init({originalIndex:c,defaultSsr:this.options.defaultSsr});const u=this.routesById[a.id];if(W(!u,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const l=lt(a.fullPath);(!this.routesByPath[l]||a.fullPath.endsWith("/"))&&(this.routesByPath[l]=a)}const d=a.children;d!=null&&d.length&&n(d)})};n([this.routeTree]);const r=[];Object.values(this.routesById).forEach((i,a)=>{var c;if(i.isRoot||!i.path)return;const u=Zt(i.fullPath),d=yt(u);for(;d.length>1&&((c=d[0])==null?void 0:c.value)==="/";)d.shift();const l=d.map(h=>h.value==="/"?.75:h.type==="param"?.5:h.type==="wildcard"?.25:1);r.push({child:i,trimmed:u,parsed:d,index:a,scores:l})}),this.flatRoutes=r.sort((i,a)=>{const c=Math.min(i.scores.length,a.scores.length);for(let u=0;u<c;u++)if(i.scores[u]!==a.scores[u])return a.scores[u]-i.scores[u];if(i.scores.length!==a.scores.length)return a.scores.length-i.scores.length;for(let u=0;u<c;u++)if(i.parsed[u].value!==a.parsed[u].value)return i.parsed[u].value>a.parsed[u].value?1:-1;return i.index-a.index}).map((i,a)=>(i.child.rank=a,i.child))},this.subscribe=(t,n)=>{const r={eventType:t,fn:n};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=t=>{this.subscribers.forEach(n=>{n.eventType===t.type&&n.fn(t)})},this.parseLocation=(t,n)=>{const r=({pathname:c,search:u,hash:d,state:l})=>{const h=this.options.parseSearch(u),p=this.options.stringifySearch(h);return{pathname:c,searchStr:p,search:J(t==null?void 0:t.search,h),hash:d.split("#").reverse()[0]??"",href:`${c}${p}${d}`,state:J(t==null?void 0:t.state,l)}},s=r(n??this.history.location),{__tempLocation:i,__tempKey:a}=s.state;if(i&&(!a||a===this.tempLocationKey)){const c=r(i);return c.state.key=s.state.key,delete c.state.__tempLocation,{...c,maskedLocation:s}}return s},this.resolvePathWithBase=(t,n)=>$e({basepath:this.basepath,base:t,to:At(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(t,n)=>{let r={};const s=lt(t.pathname),i=d=>Et(this.basepath,s,{to:d.fullPath,caseSensitive:d.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let a=(n==null?void 0:n.to)!==void 0?this.routesByPath[n.to]:void 0;a?r=i(a):a=this.flatRoutes.find(d=>{const l=i(d);return l?(r=l,!0):!1});let c=a||this.routesById[H];const u=[c];for(;c.parentRoute;)c=c.parentRoute,u.unshift(c);return{matchedRoutes:u,routeParams:r,foundRoute:a}},this.cancelMatch=t=>{const n=this.getMatch(t);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var t;(t=this.state.pendingMatches)==null||t.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=t=>{const n=(s={},i)=>{var a,c,u,d,l,h;const p=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,f=s.from!=null?p.find(m=>Et(this.basepath,lt(m.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,y=(f==null?void 0:f.pathname)||this.latestLocation.pathname;W(s.from==null||f!=null,"Could not find match for from: "+s.from);const v=(a=this.state.pendingMatches)!=null&&a.length?(c=Ct(this.state.pendingMatches))==null?void 0:c.search:((u=Ct(p))==null?void 0:u.search)||this.latestLocation.search,x=i==null?void 0:i.matchedRoutes.filter(m=>p.find(P=>P.routeId===m.id));let C;if(s.to)C=this.resolvePathWithBase(y,`${s.to}`);else{const m=this.routesById[(d=x==null?void 0:x.find(P=>{const I=Mt({path:P.fullPath,params:(i==null?void 0:i.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap});return nt([this.basepath,I])===y}))==null?void 0:d.id];C=this.resolvePathWithBase(y,(m==null?void 0:m.to)??y)}const L={...(l=Ct(p))==null?void 0:l.params};let w=(s.params??!0)===!0?L:{...L,...pt(s.params,L)};Object.keys(w).length>0&&(i==null||i.matchedRoutes.map(m=>{var P;return((P=m.options.params)==null?void 0:P.stringify)??m.options.stringifyParams}).filter(Boolean).forEach(m=>{w={...w,...m(w)}})),C=Mt({path:C,params:w??{},leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let g=v;if(t._includeValidateSearch&&((h=this.options.search)!=null&&h.strict)){let m={};i==null||i.matchedRoutes.forEach(P=>{try{P.options.validateSearch&&(m={...m,...Jt(P.options.validateSearch,{...m,...g})??{}})}catch{}}),g=m}g=(m=>{const P=(i==null?void 0:i.matchedRoutes.reduce((k,O)=>{var U;const X=[];if("search"in O.options)(U=O.options.search)!=null&&U.middlewares&&X.push(...O.options.search.middlewares);else if(O.options.preSearchFilters||O.options.postSearchFilters){const Q=({search:G,next:et})=>{let B=G;"preSearchFilters"in O.options&&O.options.preSearchFilters&&(B=O.options.preSearchFilters.reduce((V,j)=>j(V),G));const $=et(B);return"postSearchFilters"in O.options&&O.options.postSearchFilters?O.options.postSearchFilters.reduce((V,j)=>j(V),$):$};X.push(Q)}if(t._includeValidateSearch&&O.options.validateSearch){const Q=({search:G,next:et})=>{try{const B=et(G);return{...B,...Jt(O.options.validateSearch,B)??{}}}catch{}};X.push(Q)}return k.concat(X)},[]))??[],I=({search:k})=>s.search?s.search===!0?k:pt(s.search,k):{};P.push(I);const T=(k,O)=>{if(k>=P.length)return O;const U=P[k];return U({search:O,next:Q=>T(k+1,Q)})};return T(0,m)})(g),g=J(v,g);const F=this.options.stringifySearch(g),_=s.hash===!0?this.latestLocation.hash:s.hash?pt(s.hash,this.latestLocation.hash):void 0,S=_?`#${_}`:"";let E=s.state===!0?this.latestLocation.state:s.state?pt(s.state,this.latestLocation.state):{};return E=J(this.latestLocation.state,E),{pathname:C,search:g,searchStr:F,state:E,hash:_??"",href:`${C}${F}${S}`,unmaskOnReload:s.unmaskOnReload}},r=(s={},i)=>{var a;const c=n(s);let u=i?n(i):void 0;if(!u){let h={};const p=(a=this.options.routeMasks)==null?void 0:a.find(f=>{const y=Et(this.basepath,c.pathname,{to:f.from,caseSensitive:!1,fuzzy:!1});return y?(h=y,!0):!1});if(p){const{from:f,...y}=p;i={...Tt(t,["from"]),...y,params:h},u=n(i)}}const d=this.getMatchedRoutes(c,s),l=n(s,d);if(u){const h=this.getMatchedRoutes(u,i),p=n(i,h);l.maskedLocation=p}return l};return t.mask?r(t,{...Tt(t,["from"]),...t.mask}):r(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:n,...r})=>{const s=()=>{r.state.key=this.latestLocation.state.key;const c=gt(r.state,this.latestLocation.state);return delete r.state.key,c},i=this.latestLocation.href===r.href,a=this.commitLocationPromise;if(this.commitLocationPromise=ft(()=>{a==null||a.resolve()}),i&&s())this.load();else{let{maskedLocation:c,hashScrollIntoView:u,...d}=r;c&&(d={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...d,search:d.searchStr,state:{...d.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(d.unmaskOnReload??this.options.unmaskOnReload??!1)&&(d.state.__tempKey=this.tempLocationKey)),d.state.__hashScrollIntoViewOptions=u??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[r.replace?"replace":"push"](d.href,d.state,{ignoreBlocker:n})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:n,hashScrollIntoView:r,viewTransition:s,ignoreBlocker:i,href:a,...c}={})=>{if(a){const d=this.history.location.state.__TSR_index,l=Rt(a,{__TSR_index:t?d:d+1});c.to=l.pathname,c.search=this.options.parseSearch(l.search),c.hash=l.hash.slice(1)}const u=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...u,viewTransition:s,replace:t,resetScroll:n,hashScrollIntoView:r,ignoreBlocker:i})},this.navigate=({to:t,reloadDocument:n,href:r,...s})=>{if(n){r||(r=this.buildLocation({to:t,...s}).href),s.replace?window.location.replace(r):window.location.href=r;return}return this.buildAndCommitLocation({...s,href:r,to:t})},this.load=async t=>{this.latestLocation=this.parseLocation(this.latestLocation);let n,r,s;for(s=new Promise(i=>{this.startReactTransition(async()=>{var a;try{const c=this.latestLocation,u=this.state.resolvedLocation,d=u.href!==c.href,l=u.pathname!==c.pathname;this.cancelMatches();let h;Wt(()=>{h=this.matchRoutes(c),this.__store.setState(p=>({...p,status:"pending",isLoading:!0,location:c,pendingMatches:h,cachedMatches:p.cachedMatches.filter(f=>!h.find(y=>y.id===f.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:u,toLocation:c,pathChanged:l,hrefChanged:d}),this.emit({type:"onBeforeLoad",fromLocation:u,toLocation:c,pathChanged:l,hrefChanged:d}),await this.loadMatches({sync:t==null?void 0:t.sync,matches:h,location:c,onReady:async()=>{this.startViewTransition(async()=>{let p,f,y;Wt(()=>{this.__store.setState(v=>{const x=v.matches,C=v.pendingMatches||v.matches;return p=x.filter(L=>!C.find(w=>w.id===L.id)),f=C.filter(L=>!x.find(w=>w.id===L.id)),y=x.filter(L=>C.find(w=>w.id===L.id)),{...v,isLoading:!1,loadedAt:Date.now(),matches:C,pendingMatches:void 0,cachedMatches:[...v.cachedMatches,...p.filter(L=>L.status!=="error")]}}),this.clearExpiredCache()}),[[p,"onLeave"],[f,"onEnter"],[y,"onStay"]].forEach(([v,x])=>{v.forEach(C=>{var L,w;(w=(L=this.looseRoutesById[C.routeId].options)[x])==null||w.call(L,C)})})})}})}catch(c){qt(c)?(n=c,this.isServer||this.navigate({...n,replace:!0,ignoreBlocker:!0})):tt(c)&&(r=c),this.__store.setState(u=>({...u,statusCode:n?n.statusCode:r?404:u.matches.some(d=>d.status==="error")?500:200,redirect:n}))}this.latestLoadPromise===s&&((a=this.commitLocationPromise)==null||a.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),i()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=t=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;typeof n=="object"&&this.isViewTransitionTypesSupported?r={update:t,types:n.types}:r=t,document.startViewTransition(r)}else t()},this.updateMatch=(t,n)=>{var r;let s;const i=(r=this.state.pendingMatches)==null?void 0:r.find(d=>d.id===t),a=this.state.matches.find(d=>d.id===t),c=this.state.cachedMatches.find(d=>d.id===t),u=i?"pendingMatches":a?"matches":c?"cachedMatches":"";return u&&this.__store.setState(d=>{var l;return{...d,[u]:(l=d[u])==null?void 0:l.map(h=>h.id===t?s=n(h):h)}}),s},this.getMatch=t=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===t),this.loadMatches=async({location:t,matches:n,preload:r,onReady:s,updateMatch:i=this.updateMatch,sync:a})=>{let c,u=!1;const d=async()=>{u||(u=!0,await(s==null?void 0:s()))},l=p=>!!(r&&!this.state.matches.find(f=>f.id===p));!this.isServer&&!this.state.matches.length&&d();const h=(p,f)=>{var y,v,x;if(qt(f)&&!f.reloadDocument)throw f;if(ct(f)||tt(f)){if(i(p.id,C=>({...C,status:ct(f)?"redirected":tt(f)?"notFound":"error",isFetching:!1,error:f,beforeLoadPromise:void 0,loaderPromise:void 0})),f.routeId||(f.routeId=p.routeId),(y=p.beforeLoadPromise)==null||y.resolve(),(v=p.loaderPromise)==null||v.resolve(),(x=p.loadPromise)==null||x.resolve(),ct(f))throw u=!0,f=this.resolveRedirect({...f,_fromLocation:t}),f;if(tt(f))throw this._handleNotFound(n,f,{updateMatch:i}),f}};try{await new Promise((p,f)=>{(async()=>{var y,v,x;try{const C=(g,M,F)=>{var _,S;const{id:E,routeId:m}=n[g],P=this.looseRoutesById[m];if(M instanceof Promise)throw M;M.routerCode=F,c=c??g,h(this.getMatch(E),M);try{(S=(_=P.options).onError)==null||S.call(_,M)}catch(I){M=I,h(this.getMatch(E),M)}i(E,I=>{var T,k;return(T=I.beforeLoadPromise)==null||T.resolve(),(k=I.loadPromise)==null||k.resolve(),{...I,error:M,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[g,{id:M,routeId:F}]of n.entries()){const _=this.getMatch(M),S=(y=n[g-1])==null?void 0:y.id,E=this.looseRoutesById[F],m=E.options.pendingMs??this.options.defaultPendingMs,P=!!(s&&!this.isServer&&!l(M)&&(E.options.loader||E.options.beforeLoad)&&typeof m=="number"&&m!==1/0&&(E.options.pendingComponent??this.options.defaultPendingComponent));let I=!0;if((_.beforeLoadPromise||_.loaderPromise)&&(P&&setTimeout(()=>{try{d()}catch{}},m),await _.beforeLoadPromise,I=this.getMatch(M).status!=="success"),I){try{i(M,A=>({...A,loadPromise:ft(()=>{var q;(q=A.loadPromise)==null||q.resolve()}),beforeLoadPromise:ft()}));const T=new AbortController;let k;P&&(k=setTimeout(()=>{try{d()}catch{}},m));const{paramsError:O,searchError:U}=this.getMatch(M);O&&C(g,O,"PARSE_PARAMS"),U&&C(g,U,"VALIDATE_SEARCH");const X=()=>S?this.getMatch(S).context:this.options.context??{};i(M,A=>({...A,isFetching:"beforeLoad",fetchCount:A.fetchCount+1,abortController:T,pendingTimeout:k,context:{...X(),...A.__routeContext}}));const{search:Q,params:G,context:et,cause:B}=this.getMatch(M),$=l(M),V={search:Q,abortController:T,params:G,preload:$,context:et,location:t,navigate:A=>this.navigate({...A,_fromLocation:t}),buildLocation:this.buildLocation,cause:$?"preload":B,matches:n};let j=await((x=(v=E.options).beforeLoad)==null?void 0:x.call(v,V))??{};this.serializeLoaderData&&(j=this.serializeLoaderData("__beforeLoadContext",j,{router:this,match:this.getMatch(M)})),(ct(j)||tt(j))&&C(g,j,"BEFORE_LOAD"),i(M,A=>({...A,__beforeLoadContext:j,context:{...X(),...A.__routeContext,...j},abortController:T}))}catch(T){C(g,T,"BEFORE_LOAD")}i(M,T=>{var k;return(k=T.beforeLoadPromise)==null||k.resolve(),{...T,beforeLoadPromise:void 0,isFetching:!1}})}}const L=n.slice(0,c),w=[];L.forEach(({id:g,routeId:M},F)=>{w.push((async()=>{const{loaderPromise:_}=this.getMatch(g);let S=!1,E=!1;if(_){await _;const m=this.getMatch(g);m.error&&h(m,m.error)}else{const m=w[F-1],P=this.looseRoutesById[M],I=()=>{const{params:B,loaderDeps:$,abortController:V,context:j,cause:A}=this.getMatch(g),q=l(g);return{params:B,deps:$,preload:!!q,parentMatchPromise:m,abortController:V,context:j,location:t,navigate:Y=>this.navigate({...Y,_fromLocation:t}),cause:q?"preload":A,route:P}},T=Date.now()-this.getMatch(g).updatedAt,k=l(g),O=k?P.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:P.options.staleTime??this.options.defaultStaleTime??0,U=P.options.shouldReload,X=typeof U=="function"?U(I()):U;i(g,B=>({...B,loaderPromise:ft(),preload:!!k&&!this.state.matches.find($=>$.id===g)}));const Q=async()=>{var B,$,V,j,A,q,Y,xt;try{const ht=async()=>{const N=this.getMatch(g);N.minPendingPromise&&await N.minPendingPromise};try{this.loadRouteChunk(P),i(g,at=>({...at,isFetching:"loader"}));let N=await(($=(B=P.options).loader)==null?void 0:$.call(B,I()));this.serializeLoaderData&&(N=this.serializeLoaderData("loaderData",N,{router:this,match:this.getMatch(g)})),h(this.getMatch(g),N),await P._lazyPromise,await ht();const Z=(j=(V=P.options).head)==null?void 0:j.call(V,{matches:n,match:this.getMatch(g),params:this.getMatch(g).params,loaderData:N}),ot=Z==null?void 0:Z.meta,$t=Z==null?void 0:Z.links,it=Z==null?void 0:Z.scripts,_t=(q=(A=P.options).headers)==null?void 0:q.call(A,{loaderData:N});i(g,at=>({...at,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:N,meta:ot,links:$t,scripts:it,headers:_t}))}catch(N){let Z=N;await ht(),h(this.getMatch(g),N);try{(xt=(Y=P.options).onError)==null||xt.call(Y,N)}catch(ot){Z=ot,h(this.getMatch(g),ot)}i(g,ot=>({...ot,error:Z,status:"error",isFetching:!1}))}await P._componentsPromise}catch(ht){i(g,N=>({...N,loaderPromise:void 0})),h(this.getMatch(g),ht)}},{status:G,invalid:et}=this.getMatch(g);S=G==="success"&&(et||(X??T>O)),k&&P.options.preload===!1||(S&&!a?(E=!0,(async()=>{try{await Q();const{loaderPromise:B,loadPromise:$}=this.getMatch(g);B==null||B.resolve(),$==null||$.resolve(),i(g,V=>({...V,loaderPromise:void 0}))}catch(B){qt(B)&&await this.navigate(B)}})()):(G!=="success"||S&&a)&&await Q())}if(!E){const{loaderPromise:m,loadPromise:P}=this.getMatch(g);m==null||m.resolve(),P==null||P.resolve()}return i(g,m=>({...m,isFetching:E?m.isFetching:!1,loaderPromise:E?m.loaderPromise:void 0,invalid:!1})),this.getMatch(g)})())}),await Promise.all(w),p()}catch(C){f(C)}})()}),await d()}catch(p){if(ct(p)||tt(p))throw tt(p)&&!r&&await d(),p}return n},this.invalidate=t=>{const n=r=>{var s;return((s=t==null?void 0:t.filter)==null?void 0:s.call(t,r))??!0?{...r,invalid:!0,...r.status==="error"?{status:"pending",error:void 0}:{}}:r};return this.__store.setState(r=>{var s;return{...r,matches:r.matches.map(n),cachedMatches:r.cachedMatches.map(n),pendingMatches:(s=r.pendingMatches)==null?void 0:s.map(n)}}),this.load({sync:t==null?void 0:t.sync})},this.resolveRedirect=t=>{const n=t;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=t=>{const n=t==null?void 0:t.filter;n!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(s=>!n(s))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=n=>{const r=this.looseRoutesById[n.routeId];if(!r.options.loader)return!0;const s=(n.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<s)};this.clearCache({filter:t})},this.loadRouteChunk=t=>(t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(n=>{const{id:r,...s}=n.options;Object.assign(t.options,s)}):t._lazyPromise=Promise.resolve()),t._componentsPromise===void 0&&(t._componentsPromise=t._lazyPromise.then(()=>Promise.all(ve.map(async n=>{const r=t.options[n];r!=null&&r.preload&&await r.preload()})))),t._componentsPromise),this.preloadRoute=async t=>{const n=this.buildLocation(t);let r=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:t});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),i=new Set([...s,...this.state.cachedMatches.map(a=>a.id)]);Wt(()=>{r.forEach(a=>{i.has(a.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,a]}))})});try{return r=await this.loadMatches({matches:r,location:n,preload:!0,updateMatch:(a,c)=>{s.has(a)?r=r.map(u=>u.id===a?c(u):u):this.updateMatch(a,c)}}),r}catch(a){if(ct(a))return a.reloadDocument?void 0:await this.preloadRoute({...a,_fromLocation:n});console.error(a);return}},this.matchRoute=(t,n)=>{const r={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},s=this.buildLocation(r);if(n!=null&&n.pending&&this.state.status!=="pending")return!1;const a=((n==null?void 0:n.pending)===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation,c=Et(this.basepath,a.pathname,{...n,to:s.pathname});return!c||t.params&&!gt(c,t.params,{partial:!0})?!1:c&&((n==null?void 0:n.includeSearch)??!0)?gt(a.search,s.search,{partial:!0})?c:!1:c},this.dehydrate=()=>{var t;const n=((t=this.options.errorSerializer)==null?void 0:t.serialize)??Ye;return{state:{dehydratedMatches:this.state.matches.map(r=>({...Tt(r,["id","status","updatedAt"]),error:r.error?{data:n(r.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var t,n,r;let s;typeof document<"u"&&(s=this.options.transformer.parse((t=window.__TSR__)==null?void 0:t.dehydrated)),W(s),this.dehydratedData=s.payload,(r=(n=this.options).hydrate)==null||r.call(n,s.payload);const i=s.router.state,a=this.matchRoutes(this.state.location).map(c=>{const u=i.dehydratedMatches.find(d=>d.id===c.id);return W(u,`Could not find a client-side match for dehydrated match with id: ${c.id}!`),{...c,...u}});this.__store.setState(c=>({...c,matches:a})),this.manifest=s.router.manifest},this.injectedHtml=[],this.injectHtml=t=>{const n=()=>(this.injectedHtml=this.injectedHtml.filter(r=>r!==n),t);this.injectedHtml.push(n)},this.injectScript=(t,n)=>{this.injectHtml(`<script class='tsr-once'>${t}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()<\/script>`)},this.streamedKeys=new Set,this.getStreamedValue=t=>{var n;if(this.isServer)return;const r=(n=window.__TSR__)==null?void 0:n.streamedValues[t];if(r)return r.parsed||(r.parsed=this.options.transformer.parse(r.value)),r.parsed},this.streamValue=(t,n)=>{var r;Vt(!this.streamedKeys.has(t)),this.streamedKeys.add(t),this.injectScript(`__TSR__.streamedValues['${t}'] = { value: ${(r=this.serializer)==null?void 0:r.call(this,this.options.transformer.stringify(n))}}`)},this._handleNotFound=(t,n,{updateMatch:r=this.updateMatch}={})=>{const s=Object.fromEntries(t.map(c=>[c.routeId,c]));let i=(n.global?this.looseRoutesById[H]:this.looseRoutesById[n.routeId])||this.looseRoutesById[H];for(;!i.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&i.id!==H;)i=i.parentRoute,W(i);const a=s[i.id];W(a,"Could not find match for route: "+i.id),r(a.id,c=>({...c,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&i.parentRoute&&(n.routeId=i.parentRoute.id,this._handleNotFound(t,n,{updateMatch:r}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...o,caseSensitive:o.caseSensitive??!1,notFoundMode:o.notFoundMode??"fuzzy",stringifySearch:o.stringifySearch??De,parseSearch:o.parseSearch??Te,transformer:o.transformer??bt}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(o,t,n){return typeof o=="string"?this.matchRoutesInternal({pathname:o,search:t},n):this.matchRoutesInternal(o,t)}matchRoutesInternal(o,t){const{foundRoute:n,matchedRoutes:r,routeParams:s}=this.getMatchedRoutes(o,t==null?void 0:t.dest);let i=!1;(n?n.path!=="/"&&s["**"]:lt(o.pathname))&&(this.options.notFoundRoute?r.push(this.options.notFoundRoute):i=!0);const a=(()=>{if(i){if(this.options.notFoundMode!=="root")for(let l=r.length-1;l>=0;l--){const h=r[l];if(h.children)return h.id}return H}})(),c=r.map(l=>{var h;let p;const f=((h=l.options.params)==null?void 0:h.parse)??l.options.parseParams;if(f)try{const y=f(s);Object.assign(s,y)}catch(y){if(p=new Xe(y.message,{cause:y}),t!=null&&t.throwOnError)throw p;return p}}),u=[],d=l=>(l==null?void 0:l.id)?l.context??this.options.context??{}:this.options.context??{};return r.forEach((l,h)=>{var p,f,y,v;const x=u[h-1],[C,L]=(()=>{const I=(x==null?void 0:x.search)??o.search;try{const T=Jt(l.options.validateSearch,I)??{};return[{...I,...T},void 0]}catch(T){const k=new Yt(T.message,{cause:T});if(t!=null&&t.throwOnError)throw k;return[I,k]}})(),w=((f=(p=l.options).loaderDeps)==null?void 0:f.call(p,{search:C}))??"",g=w?JSON.stringify(w):"",M=Mt({path:l.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),F=Mt({path:l.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+g,_=this.getMatch(F),S=this.state.matches.find(I=>I.routeId===l.id),E=S?"stay":"enter";let m;if(_)m={..._,cause:E,params:S?J(S.params,s):s,search:J(S?S.search:_.search,C)};else{const I=l.options.loader||l.options.beforeLoad||l.lazyFn||qe(l)?"pending":"success";m={id:F,index:h,routeId:l.id,params:S?J(S.params,s):s,pathname:nt([this.basepath,M]),updatedAt:Date.now(),search:S?J(S.search,C):C,searchError:void 0,status:I,isFetching:!1,error:void 0,paramsError:c[h],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:E,loaderDeps:S?J(S.loaderDeps,w):w,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:l.options.staticData||{},loadPromise:ft(),fullPath:l.fullPath}}m.status==="success"&&(m.headers=(v=(y=l.options).headers)==null?void 0:v.call(y,{loaderData:m.loaderData})),t!=null&&t.preload||(m.globalNotFound=a===l.id),m.searchError=L;const P=d(x);m.context={...P,...m.__routeContext,...m.__beforeLoadContext},u.push(m)}),u.forEach((l,h)=>{var p,f,y,v;const x=this.looseRoutesById[l.routeId];if(!this.getMatch(l.id)&&(t==null?void 0:t._buildLocation)!==!0){const w=u[h-1],g=d(w),M={deps:l.loaderDeps,params:l.params,context:g,location:o,navigate:F=>this.navigate({...F,_fromLocation:o}),buildLocation:this.buildLocation,cause:l.cause,abortController:l.abortController,preload:!!l.preload,matches:u};l.__routeContext=((f=(p=x.options).context)==null?void 0:f.call(p,M))??{},l.context={...g,...l.__routeContext,...l.__beforeLoadContext}}const L=(v=(y=x.options).head)==null?void 0:v.call(y,{matches:u,match:l,params:l.params,loaderData:l.loaderData??void 0});l.links=L==null?void 0:L.links,l.scripts=L==null?void 0:L.scripts,l.meta=L==null?void 0:L.meta}),u}}class Yt extends Error{}class Xe extends Error{}function Qe(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...e},location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Ye(e){return e instanceof Error?{name:e.name,message:e.message}:{data:e}}function ue(e){return!(typeof e=="object"&&e&&"data"in e)||!("__isServerError"in e&&e.__isServerError)||!(typeof e.data=="object"&&e.data)?!1:e.__isServerError===!0}function de(e){if("name"in e&&"message"in e){const o=new Error(e.message);return o.name=e.name,o}return e.data}const zt=R.createContext(void 0),Ze=R.createContext(void 0);function dt(e){const o=R.useContext(e.from?Ze:zt);return K({select:n=>{const r=n.matches.find(s=>e.from?e.from===s.routeId:s.id===o);if(W(!((e.shouldThrow??!0)&&!r),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),r!==void 0)return e.select?e.select(r):r},structuralSharing:e.structuralSharing})}function tn(e){return dt({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:o=>e.select?e.select(o.loaderData):o.loaderData})}function en(e){const{select:o,...t}=e;return dt({...t,select:n=>o?o(n.loaderDeps):n.loaderDeps})}function nn(e){return dt({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:o=>e.select?e.select(o.params):o.params})}function on(e){return dt({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:o=>e.select?e.select(o.search):o.search})}function rn(e){const{navigate:o}=st();return R.useCallback(t=>o({...t}),[o])}class ge{constructor(o){this.init=t=>{var n,r;this.originalIndex=t.originalIndex;const s=this.options,i=!(s!=null&&s.path)&&!(s!=null&&s.id);this.parentRoute=(r=(n=this.options).getParentRoute)==null?void 0:r.call(n),i?this._path=H:W(this.parentRoute);let a=i?H:s.path;a&&a!=="/"&&(a=Zt(a));const c=(s==null?void 0:s.id)||a;let u=i?H:nt([this.parentRoute.id===H?"":this.parentRoute.id,c]);a===H&&(a="/"),u!==H&&(u=nt(["/",u]));const d=u===H?"/":nt([this.parentRoute.fullPath,a]);this._path=a,this._id=u,this._fullPath=d,this._to=d,this._ssr=(s==null?void 0:s.ssr)??t.defaultSsr??!0},this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.useMatch=t=>dt({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>dt({...t,from:this.id,select:n=>t!=null&&t.select?t.select(n.context):n.context}),this.useSearch=t=>on({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>nn({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>en({...t,from:this.id}),this.useLoaderData=t=>tn({...t,from:this.id}),this.useNavigate=()=>rn({from:this.id}),this.options=o||{},this.isRoot=!(o!=null&&o.getParentRoute),W(!(o!=null&&o.id&&(o!=null&&o.path))),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(o){return this._addFileChildren(o)}_addFileChildren(o){return Array.isArray(o)&&(this.children=o),typeof o=="object"&&o!==null&&(this.children=Object.values(o)),this}}function sn(e){return new ge(e)}class an extends ge{constructor(o){super(o)}addChildren(o){return super.addChildren(o),this}_addFileChildren(o){return super._addFileChildren(o),this}_addFileTypes(){return this}}function Cn(e){return new an(e)}function Rn(e){return new cn(e,{silent:!0}).createRoute}class cn{constructor(o,t){this.path=o,this.createRoute=n=>{Vt(this.silent);const r=sn(n);return r.isRoot=!1,r},this.silent=t==null?void 0:t.silent}}function Dt(e){return b.jsx(b.Fragment,{children:e.children})}function ye(e,o,t){return o.options.notFoundComponent?b.jsx(o.options.notFoundComponent,{data:t}):e.options.defaultNotFoundComponent?b.jsx(e.options.defaultNotFoundComponent,{data:t}):b.jsx(Ge,{})}const _e=R.memo(function({matchId:o}){var t,n;const r=st(),s=K({select:v=>{var x;return(x=v.matches.find(C=>C.id===o))==null?void 0:x.routeId}});W(s);const i=r.routesById[s],a=i.options.pendingComponent??r.options.defaultPendingComponent,c=a?b.jsx(a,{}):null,u=i.options.errorComponent??r.options.defaultErrorComponent,d=i.options.onCatch??r.options.defaultOnCatch,l=i.isRoot?i.options.notFoundComponent??((t=r.options.notFoundRoute)==null?void 0:t.options.component):i.options.notFoundComponent,h=(!i.isRoot||i.options.wrapInSuspense)&&(i.options.wrapInSuspense??a??((n=i.options.errorComponent)==null?void 0:n.preload))?R.Suspense:Dt,p=u?te:Dt,f=l?We:Dt,y=K({select:v=>v.loadedAt});return b.jsx(zt.Provider,{value:o,children:b.jsx(h,{fallback:c,children:b.jsx(p,{getResetKey:()=>y,errorComponent:u||Nt,onCatch:(v,x)=>{if(tt(v))throw v;d==null||d(v,x)},children:b.jsx(f,{fallback:v=>{if(!l||v.routeId&&v.routeId!==s||!v.routeId&&!i.isRoot)throw v;return R.createElement(l,v)},children:b.jsx(ln,{matchId:o})})})})})}),ln=R.memo(function({matchId:o}){var t,n,r,s,i;const a=st(),{match:c,matchIndex:u,routeId:d}=K({select:f=>{const y=f.matches.findIndex(C=>C.id===o),v=f.matches[y];return{routeId:v.routeId,matchIndex:y,match:Tt(v,["id","status","error"])}},structuralSharing:!0}),l=a.routesById[d],h=R.useMemo(()=>{const f=l.options.component??a.options.defaultComponent;return f?b.jsx(f,{}):b.jsx(un,{})},[l.options.component,a.options.defaultComponent]),p=(l.options.errorComponent??a.options.defaultErrorComponent)||Nt;if(c.status==="notFound"){let f;return ue(c.error)?f=(((t=a.options.errorSerializer)==null?void 0:t.deserialize)??de)(c.error.data):f=c.error,W(tt(f)),ye(a,l,f)}if(c.status==="redirected")throw W(ct(c.error)),(n=a.getMatch(c.id))==null?void 0:n.loadPromise;if(c.status==="error"){if(a.isServer)return b.jsx(p,{error:c.error,info:{componentStack:""}});throw ue(c.error)?(((r=a.options.errorSerializer)==null?void 0:r.deserialize)??de)(c.error.data):c.error}if(c.status==="pending"){const f=l.options.pendingMinMs??a.options.defaultPendingMinMs;if(f&&!((s=a.getMatch(c.id))!=null&&s.minPendingPromise)&&!a.isServer){const y=ft();Promise.resolve().then(()=>{a.updateMatch(c.id,v=>({...v,minPendingPromise:y}))}),setTimeout(()=>{y.resolve(),a.updateMatch(c.id,v=>({...v,minPendingPromise:void 0}))},f)}throw(i=a.getMatch(c.id))==null?void 0:i.loadPromise}return b.jsxs(b.Fragment,{children:[h,a.AfterEachMatch?b.jsx(a.AfterEachMatch,{match:c,matchIndex:u}):null]})}),un=R.memo(function(){const o=st(),t=R.useContext(zt),n=K({select:u=>{var d;return(d=u.matches.find(l=>l.id===t))==null?void 0:d.routeId}}),r=o.routesById[n],s=K({select:u=>{const l=u.matches.find(h=>h.id===t);return W(l),l.globalNotFound}}),i=K({select:u=>{var d;const l=u.matches,h=l.findIndex(p=>p.id===t);return(d=l[h+1])==null?void 0:d.id}});if(s)return ye(o,r,void 0);if(!i)return null;const a=b.jsx(_e,{matchId:i}),c=o.options.defaultPendingComponent?b.jsx(o.options.defaultPendingComponent,{}):null;return t===H?b.jsx(R.Suspense,{fallback:c,children:a}):a}),dn="Error preloading route! ☝️";function hn(e,o){const t=st(),[n,r]=R.useState(!1),s=R.useRef(!1),i=Ae(o),{activeProps:a=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:u,to:d,preload:l,preloadDelay:h,hashScrollIntoView:p,replace:f,startTransition:y,resetScroll:v,viewTransition:x,children:C,target:L,disabled:w,style:g,className:M,onClick:F,onFocus:_,onMouseEnter:S,onMouseLeave:E,onTouchStart:m,ignoreBlocker:P,...I}=e,{params:T,search:k,hash:O,state:U,mask:X,reloadDocument:Q,...G}=I,et=R.useMemo(()=>{try{return new URL(`${d}`),"external"}catch{}return"internal"},[d]),B=K({select:D=>D.location.search,structuralSharing:!0});e={from:dt({strict:!1,select:D=>D.pathname}),...e};const V=R.useMemo(()=>t.buildLocation(e),[t,e,B]),j=R.useMemo(()=>e.reloadDocument?!1:l??t.options.defaultPreload,[t.options.defaultPreload,l,e.reloadDocument]),A=h??t.options.defaultPreloadDelay??0,q=K({select:D=>{if(u!=null&&u.exact){if(!ze(D.location.pathname,V.pathname,t.basepath))return!1}else{const z=Bt(D.location.pathname,t.basepath).split("/");if(!Bt(V.pathname,t.basepath).split("/").every((Se,Pe)=>Se===z[Pe]))return!1}return((u==null?void 0:u.includeSearch)??!0)&&!gt(D.location.search,V.search,{partial:!(u!=null&&u.exact),ignoreUndefined:!(u!=null&&u.explicitUndefined)})?!1:u!=null&&u.includeHash?D.location.hash===V.hash:!0}}),Y=R.useCallback(()=>{t.preloadRoute(e).catch(D=>{console.warn(D),console.warn(dn)})},[e,t]),xt=R.useCallback(D=>{D!=null&&D.isIntersecting&&Y()},[Y]);if(Ve(i,xt,{rootMargin:"100px"},{disabled:!!w||j!=="viewport"}),Pt(()=>{s.current||!w&&j==="render"&&(Y(),s.current=!0)},[w,Y,j]),et==="external")return{...G,ref:i,type:et,href:d,...C&&{children:C},...L&&{target:L},...w&&{disabled:w},...g&&{style:g},...M&&{className:M},...F&&{onClick:F},..._&&{onFocus:_},...S&&{onMouseEnter:S},...E&&{onMouseLeave:E},...m&&{onTouchStart:m}};const ht=D=>{if(!w&&!fn(D)&&!D.defaultPrevented&&(!L||L==="_self")&&D.button===0){D.preventDefault(),be.flushSync(()=>{r(!0)});const z=t.subscribe("onResolved",()=>{z(),r(!1)});return t.navigate({...e,replace:f,resetScroll:v,hashScrollIntoView:p,startTransition:y,viewTransition:x,ignoreBlocker:P})}},N=D=>{w||j&&Y()},Z=N,ot=D=>{if(w)return;const z=D.target||{};if(j){if(z.preloadTimeout)return;z.preloadTimeout=setTimeout(()=>{z.preloadTimeout=null,Y()},A)}},$t=D=>{if(w)return;const z=D.target||{};z.preloadTimeout&&(clearTimeout(z.preloadTimeout),z.preloadTimeout=null)},it=D=>z=>{var Kt;(Kt=z.persist)==null||Kt.call(z),D.filter(Boolean).forEach(oe=>{z.defaultPrevented||oe(z)})},_t=q?pt(a,{})??{}:{},at=q?{}:pt(c,{}),ee=[M,_t.className,at.className].filter(Boolean).join(" "),ne={...g,..._t.style,...at.style};return{...G,..._t,...at,href:w?void 0:V.maskedLocation?t.history.createHref(V.maskedLocation.href):t.history.createHref(V.href),ref:i,onClick:it([F,ht]),onFocus:it([_,N]),onMouseEnter:it([S,ot]),onMouseLeave:it([E,$t]),onTouchStart:it([m,Z]),disabled:!!w,target:L,...Object.keys(ne).length&&{style:ne},...ee&&{className:ee},...w&&{role:"link","aria-disabled":!0},...q&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}const xn=R.forwardRef((e,o)=>{const{_asChild:t,...n}=e,{type:r,ref:s,...i}=hn(n,o),a=typeof n.children=="function"?n.children({isActive:i["data-status"]==="active"}):n.children;return typeof t>"u"&&delete i.disabled,R.createElement(t||"a",{...i,ref:s},a)});function fn(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pn(){const e=st(),o=R.useRef({router:e,mounted:!1}),t=K({select:({isLoading:l})=>l}),[n,r]=R.useState(!1),s=K({select:l=>l.matches.some(h=>h.status==="pending"),structuralSharing:!0}),i=Gt(t),a=t||n||s,c=Gt(a),u=t||s,d=Gt(u);return e.isServer||(e.startReactTransition=l=>{r(!0),R.startTransition(()=>{l(),r(!1)})}),R.useEffect(()=>{const l=e.history.subscribe(e.load),h=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return lt(e.latestLocation.href)!==lt(h.href)&&e.commitLocation({...h,replace:!0}),()=>{l()}},[e,e.history]),Pt(()=>{var l;if(typeof window<"u"&&((l=window.__TSR__)!=null&&l.dehydrated)||o.current.router===e&&o.current.mounted)return;o.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(p){console.error(p)}})()},[e]),Pt(()=>{if(i&&!t){const l=e.state.location,h=e.state.resolvedLocation,p=h.pathname!==l.pathname,f=h.href!==l.href;e.emit({type:"onLoad",fromLocation:h,toLocation:l,pathChanged:p,hrefChanged:f})}},[i,e,t]),Pt(()=>{if(d&&!u){const l=e.state.location,h=e.state.resolvedLocation,p=h.pathname!==l.pathname,f=h.href!==l.href;e.emit({type:"onBeforeRouteMount",fromLocation:h,toLocation:l,pathChanged:p,hrefChanged:f})}},[u,d,e]),Pt(()=>{if(c&&!a){const l=e.state.location,h=e.state.resolvedLocation,p=h.pathname!==l.pathname,f=h.href!==l.href;if(e.emit({type:"onResolved",fromLocation:h,toLocation:l,pathChanged:p,hrefChanged:f}),e.__store.setState(y=>({...y,status:"idle",resolvedLocation:y.location})),typeof document<"u"&&document.querySelector){const y=e.state.location.state.__hashScrollIntoViewOptions??!0;if(y&&e.state.location.hash!==""){const v=document.getElementById(e.state.location.hash);v&&v.scrollIntoView(y)}}}},[a,c,e]),null}function mn(){const e=st(),o=e.options.defaultPendingComponent?b.jsx(e.options.defaultPendingComponent,{}):null,t=e.isServer||typeof document<"u"&&window.__TSR__?Dt:R.Suspense,n=b.jsxs(t,{fallback:o,children:[b.jsx(pn,{}),b.jsx(vn,{})]});return e.options.InnerWrap?b.jsx(e.options.InnerWrap,{children:n}):n}function vn(){const e=K({select:t=>{var n;return(n=t.matches[0])==null?void 0:n.id}}),o=K({select:t=>t.loadedAt});return b.jsx(zt.Provider,{value:e,children:b.jsx(te,{getResetKey:()=>o,errorComponent:Nt,onCatch:t=>{Vt(!1,t.message||t.toString())},children:e?b.jsx(_e,{matchId:e}):null})})}function gn({router:e,children:o,...t}){e.update({...e.options,...t,context:{...e.options.context,...t.context}});const n=fe(),r=b.jsx(n.Provider,{value:e,children:o});return e.options.Wrap?b.jsx(e.options.Wrap,{children:r}):r}function Ln({router:e,...o}){return b.jsx(gn,{router:e,...o,children:b.jsx(mn,{})})}export{xn as L,un as O,Ln as R,Rn as a,wn as b,Cn as c};
